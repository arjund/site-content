<p>Converters | <a href="/activejdbc">ActiveJDBC</a>,Converters</p>
<h1 id="converters">Converters</h1>
<div id="toc"></div>

<p>Converters can convert an attribute from one type to another. They are very similar to <a href="validations">Validations</a> in logic and are declared the same way inside a static block of a class. Currently there are two converters available: date converter and time stamp converter. Both allow setting an attribute value in a form of a string with appropriate format.</p>
<p>Converters trigger like validators, during validate(), save() and saveIt() methods, and are in fact validators. If a converter cannot convert from one type to another, it will add an appropriate message to the <code>model.errors()</code> collection.</p>
<h2 id="date-converter">Date converter</h2>
<p>Date converter can convert value for an attribute from formatted string to <code>java.sql.Date</code>. Here is an example of a date converter declaration:</p>
<pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> Person <span class="kw">extends</span> Model {
    <span class="dt">static</span>{
        <span class="fu">convertDate</span>(<span class="st">&quot;dob&quot;</span>, <span class="st">&quot;yyyy-MM-dd&quot;</span>);
    }    
}</code></pre>
<p>and here how to use it:</p>
<pre class="sourceCode java"><code class="sourceCode java">Person p = <span class="kw">new</span> <span class="fu">Person</span>();
p.<span class="fu">set</span>(<span class="st">&quot;first_name&quot;</span>, <span class="st">&quot;Marilyn&quot;</span>,<span class="st">&quot;last_name&quot;</span>, <span class="st">&quot;Monroe&quot;</span>);
p.<span class="fu">set</span>(<span class="st">&quot;dob&quot;</span>, <span class="st">&quot;1926/6/1&quot;</span>);                     <span class="co">//wrong format</span>
p.<span class="fu">validate</span>();
System.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">errors</span>().<span class="fu">get</span>(<span class="st">&quot;dob&quot;</span>));    <span class="co">//prints out: attribute dob does not conform to format: yyyy-MM-dd</span>

p.<span class="fu">set</span>(<span class="st">&quot;dob&quot;</span>, <span class="st">&quot;1926-06-01&quot;</span>);                   <span class="co">//right format</span>
p.<span class="fu">validate</span>();
System.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">get</span>(<span class="st">&quot;dob&quot;</span>).<span class="fu">getClass</span>()); <span class="co">//prints out: class java.sql.Date</span>
System.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">get</span>(<span class="st">&quot;dob&quot;</span>));            <span class="co">//prints out: 1926-06-01</span></code></pre>
<h2 id="timestamp-converter">Timestamp converter</h2>
<p>Timestamp converter is identical to date converter, but converts to <code>java.sql.Timestamp</code>. Here is example of declaration:</p>
<pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> Message <span class="kw">extends</span> Model {
    <span class="dt">static</span>{
        <span class="fu">convertTimestamp</span>(<span class="st">&quot;send_time&quot;</span>, <span class="st">&quot;yyyy.MM.dd G &#39;at&#39; HH:mm:ss z&quot;</span>);
    }
}</code></pre>
<blockquote>
<p>In both cases, the text format for date and timestamp needs to conform to <a href="http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html">java.text.SimpleDateFormat</a></p>
</blockquote>
